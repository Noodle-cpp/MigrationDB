<?xml version="1.0" encoding="utf-8" ?>
<nlog xmlns="http://www.nlog-project.org/schemas/NLog.xsd"
      xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
      xsi:schemaLocation="http://www.nlog-project.org/schemas/NLog.xsd NLog.xsd"
      autoReload="true"
      throwExceptions="false"
      internalLogLevel="Error" internalLogFile="c:\temp\nlog-internal.log">

	<extensions>
		<add assembly="EasyGelf.NLog"/>
	</extensions>

	<targets>
		<target name="GelfUdp" xsi:type="GelfUdp" facility="X5FeedBackWebApi" remoteAddress="rumoslogd01.emea.tpg.ads" remotePort="5048" layout="${message}">
			<parameter name="appdomain" layout="${appdomain}" />
			<parameter name="exception" layout="${exception}" />
			<parameter name="stacktrace" layout="${stacktrace}" />
			<parameter name="Level" layout="${level}" />
			<parameter name="project" layout="YourProj" />
			<parameter name="application" layout="YourApp" />
			<parameter name="facility" layout="YourFacilityName" />
		</target>

		<target xsi:type="File" name="file" fileName="${basedir}/logs/${shortdate}.log" layout="${longdate} ${uppercase:${level}} ${message}" />
	</targets>

	<rules>
		<logger name="*" writeTo="GelfUdp" minlevel="Trace"/>
		<logger name="*" writeTo="File" minlevel="Trace"/>
	</rules>
</nlog>